/* ===== Layout ===== */
:root {
    --sidebar-width: 320px;
}

html, body {
    height: 100%;
}

.layout {
    display: grid;
    grid-template-columns: var(--sidebar-width) 1fr;
    gap: 0;
    min-height: 100vh;
}

.layout.collapsed {
    grid-template-columns: 56px 1fr;
}

.sidebar {
    border-right: 1px solid var(--bs-border-color);
    background: var(--bs-body-bg);
}

.sidebar .sidebar-inner {
    height: 100%;
    overflow: auto;
    padding: .5rem;
}

.sidebar-toggle {
    appearance: none;
    border: 0;
    background: transparent;
    color: var(--bs-secondary-color);
    padding: .25rem .5rem;
    border-radius: .25rem;
}
.sidebar-toggle:hover { color: var(--bs-body-color); background: rgba(255,255,255,.06); }

.content {
    padding: .75rem;
    height: 100%;
    overflow: auto;
}

/* ===== Rulers overlay (kept) ===== */
.ruler-overlay {
    position: absolute;
    z-index: 20;
    pointer-events: none;
    color: #6b7280;
}
.ruler-box {
    background: rgba(255,255,255,0.85);
    border: 1px solid #e5e7eb;
}
.ruler-svg { width: 100%; height: 100%; display: block; }

/* ===== Preview / SVG wrap ===== */
.svg-wrap {
    background: #ffffff;
    color: #000000;                 /* used by elements with currentColor */
    border-radius: .5rem;
    padding: 0;
    min-height: 60vh;
    height: 60vh;
    border: 1px solid var(--bs-border-color);
    position: relative;
    overflow: hidden;
}

/* zoom toolbar spacing */
.svg-wrap + .zoom-toolbar { margin-top: .5rem; }

/* overlays marker removal */
[data-pc-ui="1"] { pointer-events: none; }
[data-pc-ui="1"] * { pointer-events: all; } /* let hit-rects receive events */

/* ===== Forms ===== */
.form-text { font-size: .75rem; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

/* ===== Compact tree UI ===== */
#pc-tree .tree { font-size: .86rem; }
#pc-tree .tree ul { margin: 0 0 0 .6rem; padding-left: 0; }
#pc-tree .tree li { list-style: none; margin: 0; padding: 0; }

#pc-tree .tree .label {
    display: flex; align-items: center; justify-content: space-between;
    min-height: 26px; padding: 2px 4px;
}
#pc-tree .tree .label .left { display: inline-flex; align-items: center; gap: .35rem; }
#pc-tree .tree .label .toggle { width: 14px; margin-right: 4px; font-size: .8rem; color: var(--bs-secondary-color); }

#pc-tree .tree .badge { padding: .1rem .35rem; font-size: .65rem; }
#pc-tree .tree .badge-cell { font-weight: 600; }
#pc-tree .tree .active-cell { outline: 1px solid var(--bs-primary); border-radius: .25rem; }

#pc-tree .tree .row {
    display: flex; align-items: center; gap: .35rem;
    padding: 2px 4px; border-radius: .25rem;
}
#pc-tree .tree .row:hover { background: rgba(255,255,255,.04); }

#pc-tree .tree i.bi { font-size: .85rem; vertical-align: -1px; }

/* icon-only actions on the right */
#pc-tree .tree .actions { margin-left:auto; display:inline-flex; gap:.25rem; }
#pc-tree .tree .btn-action {
    border:0; background:transparent; color:var(--bs-secondary-color);
    padding:.1rem .2rem; line-height:1; border-radius:.25rem;
}
#pc-tree .tree .btn-action:hover { background: rgba(255,255,255,.06); color: var(--bs-body-color); }

/* toolbar above the tree */
#pc-tree .tree-toolbar { display:flex; gap:.25rem; }
#pc-tree .tree-toolbar .btn { padding:.125rem .4rem; line-height:1.1; }

/* slimmer tabs in editor */
#pc-editor-tabs .nav-link { padding: .25rem .5rem; font-size: .85rem; }

/* ===== Object editor specifics ===== */
#pc-textarea { resize: vertical; }
#pc-svg-filename { max-width: 50%; }

/* align small controls */
#pc-tab-layout .form-label.mb-1,
#pc-tab-object .form-label.mb-1 { margin-bottom:.25rem !important; }

/* ===== Buttons and utility ===== */
.btn-icon { padding: .125rem .3rem; line-height: 1; }

/* subtle card header */
.card-header.bg-body-tertiary { border-bottom: 1px solid var(--bs-border-color); }

/* details elements */
details summary { cursor: pointer; user-select: none; }
details summary::-webkit-details-marker { display: none; }
details[open] > summary {
    border-bottom: 1px dashed var(--bs-border-color);
    padding-bottom: .25rem; margin-bottom: .5rem;
}

/* ===== Placeholder visuals (empty SVG item) ===== */
.pc-item-placeholder rect { stroke-dasharray: 2 1; rx: 2; }

/* ===== Panel overlays ===== */
#pcOverlays [data-pc-ui="1"] { pointer-events: all; } /* enable hit-rects */

#pc-cell-config legend { font-size: .72rem; color: var(--bs-secondary-color); }
#pc-layout-preset { font-size: .85rem; }
#pc-cell-config .form-control-sm,
#pc-cell-config .form-select-sm { padding-top:.15rem; padding-bottom:.15rem; height: calc(1.35rem + 2px); }

